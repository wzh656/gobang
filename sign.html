<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>五子棋</title>
<link href="./css/title.css" rel="stylesheet" type="text/css" />
<link href="./css/button.css" rel="stylesheet" type="text/css" />
<link href="./css/p.css" rel="stylesheet" type="text/css" />
<link href="./css/clear.css" rel="stylesheet" type="text/css" />
<meta content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" />

<style>
h1{
	font-size:50px;
}
b{
	font-size:200%;
}
input{
	width:100%;
	height:66px;
	background-color:#6a6;
	border-radius:20px;
	color:white;
	font-size:200%;
}
button{
	color:white;
	background-color:#6a8;
}
div button{
	width:48%;
	height:66px;
	background:#70c3ff;
	font-size:200%;
	border-radius:40px;
}
</style>

<script src="./js/msgbox.js"></script>
<script src="./js/jq.js"></script>
<script src="//cdn.jsdelivr.net/npm/eruda"></script>
<script>
eruda.init();
console.log('控制台打印信息');
</script>
<script src="https://cdn.socket.io/socket.io-1.3.5.js"></script>

</head>
<body>

<button onclick="location.href='./index.html';" id="back">返回</button>

<h1>登录</h1>
<b>账号：</b><input name="name" /><br>
<b>密码：</b><input name="password" type="password" /><br>
<div>
	<button onclick="sign_in($('.name').val(),$('.password').val());">登录</button>
	<button onclick="sign_up($('.name').val(),$('.password').val());">注册</button>
</div>
<noscript><h1>错误！你的浏览器不支持JavaScript，无法使用《五子棋》！</h1></noscript>

<script>
var id=new Date()*100+Math.random()*100;
var socket = io();
function sign_in(name,password){ //登录
	if (name.split(' ').length > 1){
		alert('名称中不能含有空格');
		return;
	}
	socket.emit("sign_in",name,password);
}
function sign_up(name,password){ //注册
	if (name.split(' ').length > 1){
		alert('名称中不能含有空格');
		return;
	}
	socket.emit("sign_up",name,password);
}

if (!socket.connected){
	new Msgbox(
		{
			name:"连接失败",
			color:"#a88"
		},{
			name:"未连接服务器，请检查是否开启或连接到了服务器。"
		},[
			{
				name:"返回",
				width:"150px",
				onclick:function(){
					location.href="index.html";
				}
			},{
				name:"重试",
				width:"150px",
				onclick:function(){
					location.reload(true);
				}
			}
		],"error"
	).show();
}
</script>
</body>
</html>
